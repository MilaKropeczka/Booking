{"version":3,"file":"static/js/612.50f904ec.chunk.js","mappings":"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","sources":["pages/Profile/MyHotels/EditHotel/EditHotel.jsx","pages/Profile/MyHotels/HotelForm.jsx"],"sourcesContent":["import axios from '../../../../axios';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport HotelForm from '../HotelForm';\r\nimport { useEffect, useState } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport useAuth from '../../../../hooks/useAuth';\r\n\r\nexport default function EditHotel() {\r\n\tconst navigate = useNavigate();\r\n\tconst [auth] = useAuth();\r\n\tconst { id } = useParams();\r\n\tconst [hotel, setHotel] = useState(null);\r\n\r\n\tconst submit = async (form) => {\r\n\t\tawait axios.patch(`/hotels/${id}.json?auth=${auth.token}`, form);\r\n\t\tnavigate('/profil/hotele');\r\n\t};\r\n\r\n\tconst fetchHotel = async () => {\r\n\t\tconst res = await axios.get(`/hotels/${id}.json`);\r\n\t\tconst hotelData = res.data;\r\n\t\tdelete hotelData.rating;\r\n\t\tsetHotel(hotelData);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchHotel();\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className='card'>\r\n\t\t\t<div className='card-header'>Edytuj hotel</div>\r\n\t\t\t<div className='card-body'>\r\n\t\t\t\t<p className='text-muted'>Uzupełnij dane hotelu</p>\r\n\r\n\t\t\t\t<HotelForm\r\n\t\t\t\t\thotel={hotel}\r\n\t\t\t\t\tbuttonText='Zapisz'\r\n\t\t\t\t\tonSubmit={submit}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport Input from '../../../components/Input/Input';\r\nimport { validate } from '../../../helpers/validations';\r\nimport LoadingButton from '../../../components/UI/LoadingButton/LoadingButton';\r\nimport useAuth from '../../../hooks/useAuth';\r\n\r\nexport default function HotelForm(props) {\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst [auth] = useAuth();\r\n\tconst [form, setForm] = useState({\r\n\t\tname: {\r\n\t\t\tvalue: '',\r\n\t\t\terror: '',\r\n\t\t\tshowError: false,\r\n\t\t\trules: ['required', { rule: 'min', length: 4 }],\r\n\t\t},\r\n\t\tdescription: {\r\n\t\t\tvalue: '',\r\n\t\t\terror: '',\r\n\t\t\tshowError: false,\r\n\t\t\trules: ['required', { rule: 'min', length: 10 }],\r\n\t\t},\r\n\t\tcity: {\r\n\t\t\tvalue: '',\r\n\t\t\terror: '',\r\n\t\t\tshowError: false,\r\n\t\t\trules: ['required'],\r\n\t\t},\r\n\t\trooms: {\r\n\t\t\tvalue: 2,\r\n\t\t\terror: '',\r\n\t\t\tshowError: false,\r\n\t\t\trules: ['required'],\r\n\t\t},\r\n\t\tfeatures: {\r\n\t\t\tvalue: [],\r\n\t\t\terror: '',\r\n\t\t\tshowError: false,\r\n\t\t},\r\n\t\timage: {\r\n\t\t\tvalue: null,\r\n\t\t\terror: '',\r\n\t\t\tshowError: false,\r\n\t\t},\r\n\t\tstatus: {\r\n\t\t\tvalue: 0,\r\n\t\t\terror: '',\r\n\t\t\tshowError: false,\r\n\t\t\trules: ['required'],\r\n\t\t},\r\n\t});\r\n\r\n\tconst sumbit = async (e) => {\r\n\t\te.preventDefault();\r\n\t\tsetLoading(true);\r\n\t\ttry {\r\n\t\t\tprops.onSubmit({\r\n\t\t\t\tname: form.name.value,\r\n\t\t\t\tdescription: form.description.value,\r\n\t\t\t\tcity: form.city.value,\r\n\t\t\t\trooms: form.rooms.value,\r\n\t\t\t\tfeatures: form.features.value,\r\n\t\t\t\timage: form.image.value,\r\n\t\t\t\tstatus: form.status.value,\r\n\t\t\t\tuser_id: auth.userId,\r\n\t\t\t});\r\n\t\t} catch (ex) {\r\n\t\t\tconsole.log(ex.response);\r\n\t\t}\r\n\r\n\t\tsetLoading(false);\r\n\t};\r\n\r\n\tconst changeHandler = (value, fieldName) => {\r\n\t\tconst error = validate(form[fieldName].rules, value);\r\n\t\tsetForm({\r\n\t\t\t...form,\r\n\t\t\t[fieldName]: {\r\n\t\t\t\t...form[fieldName],\r\n\t\t\t\tvalue,\r\n\t\t\t\tshowError: true,\r\n\t\t\t\terror: error,\r\n\t\t\t},\r\n\t\t});\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tconst newForm = { ...form };\r\n\t\tfor (const key in props.hotel) {\r\n\t\t\tif (newForm[key]) {\r\n\t\t\t\tnewForm[key].value = props.hotel[key];\r\n\t\t\t}\r\n\t\t}\r\n\t\tsetForm(newForm);\r\n\t}, [props.hotel]);\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<form onSubmit={sumbit}>\r\n\t\t\t\t<Input\r\n\t\t\t\t\tlabel='Nazwa'\r\n\t\t\t\t\tvalue={form.name.value}\r\n\t\t\t\t\tonChange={(value) => changeHandler(value, 'name')}\r\n\t\t\t\t\terror={form.name.error}\r\n\t\t\t\t\tshowError={form.name.showError}\r\n\t\t\t\t/>\r\n\t\t\t\t<Input\r\n\t\t\t\t\tlabel='Opis'\r\n\t\t\t\t\ttype='textarea'\r\n\t\t\t\t\tvalue={form.description.value}\r\n\t\t\t\t\tonChange={(value) => changeHandler(value, 'description')}\r\n\t\t\t\t\terror={form.description.error}\r\n\t\t\t\t\tshowError={form.description.showError}\r\n\t\t\t\t/>\r\n\t\t\t\t<Input\r\n\t\t\t\t\tlabel='Miejscowość'\r\n\t\t\t\t\tvalue={form.city.value}\r\n\t\t\t\t\tonChange={(value) => changeHandler(value, 'city')}\r\n\t\t\t\t\terror={form.city.error}\r\n\t\t\t\t\tshowError={form.city.showError}\r\n\t\t\t\t/>\r\n\t\t\t\t<Input\r\n\t\t\t\t\tlabel='Ilość pokoi'\r\n\t\t\t\t\ttype='select'\r\n\t\t\t\t\tvalue={form.rooms.value}\r\n\t\t\t\t\tonChange={(value) => changeHandler(value, 'rooms')}\r\n\t\t\t\t\toptions={[\r\n\t\t\t\t\t\t{ value: 1, label: 1 },\r\n\t\t\t\t\t\t{ value: 2, label: 2 },\r\n\t\t\t\t\t\t{ value: 3, label: 3 },\r\n\t\t\t\t\t\t{ value: 4, label: 4 },\r\n\t\t\t\t\t]}\r\n\t\t\t\t\terror={form.rooms.error}\r\n\t\t\t\t\tshowError={form.rooms.showError}\r\n\t\t\t\t/>\r\n\t\t\t\t<br />\r\n\t\t\t\t<Input\r\n\t\t\t\t\tlabel='Udogodnienia'\r\n\t\t\t\t\ttype='checkbox'\r\n\t\t\t\t\tselectedValues={form.features.value}\r\n\t\t\t\t\tonChange={(value) => changeHandler(value, 'features')}\r\n\t\t\t\t\toptions={[\r\n\t\t\t\t\t\t{ value: 'wifi', label: 'Wi-fi' },\r\n\t\t\t\t\t\t{ value: 'tv', label: 'TV' },\r\n\t\t\t\t\t\t{ value: 'parking', label: 'Parking' },\r\n\t\t\t\t\t]}\r\n\t\t\t\t\terror={form.features.error}\r\n\t\t\t\t\tshowError={form.features.showError}\r\n\t\t\t\t/>\r\n\t\t\t\t<br />\r\n\t\t\t\t<Input\r\n\t\t\t\t\tlabel='Zdjęcie'\r\n\t\t\t\t\ttype='file'\r\n\t\t\t\t\tonChange={(value) => changeHandler(value, 'image')}\r\n\t\t\t\t\terror={form.image.error}\r\n\t\t\t\t\tshowError={form.image.showError}\r\n\t\t\t\t/>\r\n\t\t\t\t<br />\r\n\t\t\t\t<Input\r\n\t\t\t\t\tlabel='Status'\r\n\t\t\t\t\ttype='radio'\r\n\t\t\t\t\tselectedValue={form.status.value}\r\n\t\t\t\t\tonChange={(value) => changeHandler(value, 'status')}\r\n\t\t\t\t\toptions={[\r\n\t\t\t\t\t\t{ value: '1', label: 'Aktywny' },\r\n\t\t\t\t\t\t{ value: '0', label: 'Ukryty' },\r\n\t\t\t\t\t]}\r\n\t\t\t\t\terror={form.status.error}\r\n\t\t\t\t\tshowError={form.status.showError}\r\n\t\t\t\t/>\r\n\t\t\t\t<br />\r\n\t\t\t\t<div className='text-end col-md-6 col-xl-4'>\r\n\t\t\t\t\t<LoadingButton loading={loading} className='btn-success'>\r\n\t\t\t\t\t\t{props.buttonText}\r\n\t\t\t\t\t</LoadingButton>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t);\r\n}\r\n"],"names":["EditHotel","navigate","useNavigate","auth","useAuth","id","useParams","hotel","setHotel","useState","useEffect","async","hotelData","axios","get","data","rating","fetchHotel","_jsxs","className","children","_jsx","HotelForm","buttonText","onSubmit","patch","token","form","props","loading","setLoading","setForm","name","value","error","showError","rules","rule","length","description","city","rooms","features","image","status","changeHandler","fieldName","validate","newForm","key","e","preventDefault","user_id","userId","ex","console","log","response","Input","label","onChange","type","options","selectedValues","selectedValue","LoadingButton"],"sourceRoot":""}