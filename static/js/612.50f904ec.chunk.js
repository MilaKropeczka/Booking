"use strict";(self.webpackChunkbooking=self.webpackChunkbooking||[]).push([[612],{612:(e,r,o)=>{o.r(r),o.d(r,{default:()=>i});var s=o(678),a=o(216),l=o(193),t=o(43),u=o(342),n=o(579);function i(){const e=(0,a.Zp)(),[r]=(0,u.A)(),{id:o}=(0,a.g)(),[i,c]=(0,t.useState)(null);return(0,t.useEffect)((()=>{(async()=>{const e=(await s.A.get(`/hotels/${o}.json`)).data;delete e.rating,c(e)})()}),[]),(0,n.jsxs)("div",{className:"card",children:[(0,n.jsx)("div",{className:"card-header",children:"Edytuj hotel"}),(0,n.jsxs)("div",{className:"card-body",children:[(0,n.jsx)("p",{className:"text-muted",children:"Uzupe\u0142nij dane hotelu"}),(0,n.jsx)(l.A,{hotel:i,buttonText:"Zapisz",onSubmit:async a=>{await s.A.patch(`/hotels/${o}.json?auth=${r.token}`,a),e("/profil/hotele")}})]})]})}},193:(e,r,o)=>{o.d(r,{A:()=>i});var s=o(43),a=o(877),l=o(182),t=o(125),u=o(342),n=o(579);function i(e){const[r,o]=(0,s.useState)(!1),[i]=(0,u.A)(),[c,h]=(0,s.useState)({name:{value:"",error:"",showError:!1,rules:["required",{rule:"min",length:4}]},description:{value:"",error:"",showError:!1,rules:["required",{rule:"min",length:10}]},city:{value:"",error:"",showError:!1,rules:["required"]},rooms:{value:2,error:"",showError:!1,rules:["required"]},features:{value:[],error:"",showError:!1},image:{value:null,error:"",showError:!1},status:{value:0,error:"",showError:!1,rules:["required"]}}),d=(e,r)=>{const o=(0,l.t)(c[r].rules,e);h({...c,[r]:{...c[r],value:e,showError:!0,error:o}})};return(0,s.useEffect)((()=>{const r={...c};for(const o in e.hotel)r[o]&&(r[o].value=e.hotel[o]);h(r)}),[e.hotel]),(0,n.jsx)("div",{children:(0,n.jsxs)("form",{onSubmit:async r=>{r.preventDefault(),o(!0);try{e.onSubmit({name:c.name.value,description:c.description.value,city:c.city.value,rooms:c.rooms.value,features:c.features.value,image:c.image.value,status:c.status.value,user_id:i.userId})}catch(s){console.log(s.response)}o(!1)},children:[(0,n.jsx)(a.A,{label:"Nazwa",value:c.name.value,onChange:e=>d(e,"name"),error:c.name.error,showError:c.name.showError}),(0,n.jsx)(a.A,{label:"Opis",type:"textarea",value:c.description.value,onChange:e=>d(e,"description"),error:c.description.error,showError:c.description.showError}),(0,n.jsx)(a.A,{label:"Miejscowo\u015b\u0107",value:c.city.value,onChange:e=>d(e,"city"),error:c.city.error,showError:c.city.showError}),(0,n.jsx)(a.A,{label:"Ilo\u015b\u0107 pokoi",type:"select",value:c.rooms.value,onChange:e=>d(e,"rooms"),options:[{value:1,label:1},{value:2,label:2},{value:3,label:3},{value:4,label:4}],error:c.rooms.error,showError:c.rooms.showError}),(0,n.jsx)("br",{}),(0,n.jsx)(a.A,{label:"Udogodnienia",type:"checkbox",selectedValues:c.features.value,onChange:e=>d(e,"features"),options:[{value:"wifi",label:"Wi-fi"},{value:"tv",label:"TV"},{value:"parking",label:"Parking"}],error:c.features.error,showError:c.features.showError}),(0,n.jsx)("br",{}),(0,n.jsx)(a.A,{label:"Zdj\u0119cie",type:"file",onChange:e=>d(e,"image"),error:c.image.error,showError:c.image.showError}),(0,n.jsx)("br",{}),(0,n.jsx)(a.A,{label:"Status",type:"radio",selectedValue:c.status.value,onChange:e=>d(e,"status"),options:[{value:"1",label:"Aktywny"},{value:"0",label:"Ukryty"}],error:c.status.error,showError:c.status.showError}),(0,n.jsx)("br",{}),(0,n.jsx)("div",{className:"text-end col-md-6 col-xl-4",children:(0,n.jsx)(t.A,{loading:r,className:"btn-success",children:e.buttonText})})]})})}}}]);
//# sourceMappingURL=612.50f904ec.chunk.js.map